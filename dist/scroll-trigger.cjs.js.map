{"version":3,"file":"scroll-trigger.cjs.js","sources":["../src/scroll-trigger.js"],"sourcesContent":["import './scroll-trigger.css';\n\n/**\n * ScrollTrigger - Scroll spy plugin for tracking section visibility\n *\n * Monitors when sections cross a configurable trigger line in the viewport\n * (measured from the bottom) and provides callbacks for navigation synchronization.\n *\n * @example\n * const trigger = new ScrollTrigger({\n *   sections: '.collection-section',\n *   offset: 100, // 100px from bottom of viewport\n *   onIndexChange: (newIndex, oldIndex, newElement, oldElement) => {\n *     console.log('Active section:', newIndex);\n *   }\n * });\n */\nclass ScrollTrigger {\n  // Private fields\n  #sections = [];\n  #currentIndex = -1;\n  #observer = null;\n  #config = {\n    offset: 100,\n    threshold: 0.1,\n    throttle: 100,\n    behavior: 'smooth',\n    onIndexChange: null,\n  };\n  #intersectingMap = new Map();\n  #throttleTimer = null;\n  #isDestroyed = false;\n  #resizeObserver = null;\n\n  /**\n   * Create a new ScrollTrigger instance\n   * @param {Object} options - Configuration options\n   * @param {string|NodeList|Array} options.sections - Sections to track (CSS selector, NodeList, or Array of elements)\n   * @param {number|string} [options.offset=100] - Distance from bottom of viewport to trigger active state (px or percentage like '20%')\n   * @param {number} [options.threshold=0.1] - IntersectionObserver threshold (0-1)\n   * @param {number} [options.throttle=100] - Throttle delay for scroll events (ms)\n   * @param {string} [options.behavior='smooth'] - Scroll behavior ('smooth' or 'auto')\n   * @param {Function} [options.onIndexChange] - Callback when active section changes (receives newIndex, oldIndex, newElement, oldElement)\n   */\n  constructor(options = {}) {\n    // Merge config\n    this.#config = { ...this.#config, ...options };\n\n    // Get sections\n    this.#sections = this.#getSections(this.#config.sections);\n\n    if (this.#sections.length === 0) {\n      console.warn('ScrollTrigger: No sections found');\n      return;\n    }\n\n    // Initialize observer\n    this.#setupObserver();\n\n    // Watch for viewport resize if any element uses percentage offset\n    if (this.#hasPercentageOffsets()) {\n      this.#setupResizeObserver();\n    }\n  }\n\n  /**\n   * Get sections from various input types\n   */\n  #getSections(input) {\n    if (typeof input === 'string') {\n      return Array.from(document.querySelectorAll(input));\n    } else if (input instanceof NodeList) {\n      return Array.from(input);\n    } else if (Array.isArray(input)) {\n      return input;\n    }\n    return [];\n  }\n\n  /**\n   * Check if offset is a percentage value\n   */\n  #isPercentageOffset(offset) {\n    return typeof offset === 'string' && offset.includes('%');\n  }\n\n  /**\n   * Calculate pixel offset from bottom of viewport\n   * Converts percentage or pixel value to pixels from bottom\n   */\n  #calculateOffset(offset) {\n    if (this.#isPercentageOffset(offset)) {\n      const percentage = parseFloat(offset) / 100;\n      return Math.round(window.innerHeight * percentage);\n    }\n    return typeof offset === 'number' ? offset : 100;\n  }\n\n  /**\n   * Get the offset for a specific element (custom or default)\n   * Checks for data-animate-offset attribute, falls back to config\n   */\n  #getElementOffset(element) {\n    if (!element) return this.#config.offset;\n\n    const customOffset = element.getAttribute('data-animate-offset');\n    if (customOffset !== null) {\n      // Parse as number if it's just digits, otherwise return as string (for percentages)\n      return /^\\d+$/.test(customOffset) ? parseInt(customOffset, 10) : customOffset;\n    }\n\n    return this.#config.offset;\n  }\n\n  /**\n   * Check if any element (or config) uses a percentage offset\n   */\n  #hasPercentageOffsets() {\n    // Check global config\n    if (this.#isPercentageOffset(this.#config.offset)) {\n      return true;\n    }\n\n    // Check if any element has a custom percentage offset\n    return this.#sections.some((section) => {\n      const customOffset = section.getAttribute('data-animate-offset');\n      return customOffset && this.#isPercentageOffset(customOffset);\n    });\n  }\n\n  /**\n   * Setup ResizeObserver to handle viewport changes with percentage offsets\n   */\n  #setupResizeObserver() {\n    this.#resizeObserver = new ResizeObserver(() => {\n      // Recreate observer with new calculated offset\n      if (this.#observer) {\n        this.#observer.disconnect();\n      }\n      this.#setupObserver();\n    });\n\n    this.#resizeObserver.observe(document.documentElement);\n  }\n\n  /**\n   * Setup IntersectionObserver to track sections\n   */\n  #setupObserver() {\n    // Calculate pixel offset from bottom (handles both px and %)\n    const offsetPx = this.#calculateOffset(this.#config.offset);\n\n    // Create observer with offset from bottom\n    // Top margin removes everything above, bottom margin creates trigger zone\n    const rootMargin = `0px 0px -${offsetPx}px 0px`;\n\n    this.#observer = new IntersectionObserver(\n      (entries) => this.#handleIntersection(entries),\n      {\n        root: null,\n        rootMargin: rootMargin,\n        threshold: this.#config.threshold,\n      }\n    );\n\n    // Observe all sections\n    this.#sections.forEach((section) => {\n      this.#observer.observe(section);\n      this.#intersectingMap.set(section, false);\n    });\n  }\n\n  /**\n   * Handle intersection events\n   */\n  #handleIntersection(entries) {\n    if (this.#isDestroyed) return;\n\n    // Update intersecting map\n    entries.forEach((entry) => {\n      this.#intersectingMap.set(entry.target, entry.isIntersecting);\n    });\n\n    // Throttle index calculation\n    this.#throttleIndexUpdate();\n  }\n\n  /**\n   * Throttle index updates to prevent excessive calls\n   */\n  #throttleIndexUpdate() {\n    if (this.#throttleTimer) return;\n\n    this.#throttleTimer = setTimeout(() => {\n      this.#updateActiveIndex();\n      this.#throttleTimer = null;\n    }, this.#config.throttle);\n  }\n\n  /**\n   * Update the active index based on intersecting sections\n   * Supports per-element custom offsets via data-animate-offset attribute\n   */\n  #updateActiveIndex() {\n    if (this.#isDestroyed) return;\n\n    // Check each section against its custom offset\n    let newIndex = -1;\n\n    // Find the closest section that has crossed its trigger line\n    // Check from bottom to top to find the last one that crossed\n    for (let i = this.#sections.length - 1; i >= 0; i--) {\n      const section = this.#sections[i];\n      const elementOffset = this.#getElementOffset(section);\n      const offsetPx = this.#calculateOffset(elementOffset);\n      const triggerLine = window.innerHeight - offsetPx;\n\n      const rect = section.getBoundingClientRect();\n\n      // If this section's top is at or above its trigger line, it's active\n      if (rect.top <= triggerLine) {\n        newIndex = i;\n        break;\n      }\n    }\n\n    // Fire callback if index changed\n    if (newIndex !== this.#currentIndex) {\n      const oldIndex = this.#currentIndex;\n      this.#currentIndex = newIndex;\n\n      const newElement = this.#sections[newIndex] || null;\n      const oldElement = this.#sections[oldIndex] || null;\n\n      if (this.#config.onIndexChange && typeof this.#config.onIndexChange === 'function') {\n        this.#config.onIndexChange(newIndex, oldIndex, newElement, oldElement);\n      }\n\n      // Emit custom event\n      this.#emitEvent('scroll-trigger:change', {\n        index: newIndex,\n        previousIndex: oldIndex,\n        section: newElement,\n        previousSection: oldElement,\n      });\n    }\n  }\n\n  /**\n   * Emit custom event\n   */\n  #emitEvent(eventName, detail) {\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(\n        new CustomEvent(eventName, {\n          bubbles: true,\n          detail: detail,\n        })\n      );\n    }\n  }\n\n  /**\n   * Get the current active index\n   * @returns {number} Current active section index (-1 if none)\n   */\n  getCurrentIndex() {\n    return this.#currentIndex;\n  }\n\n  /**\n   * Get the current active section element\n   * @returns {Element|null} Current active section element or null\n   */\n  getCurrentSection() {\n    return this.#sections[this.#currentIndex] || null;\n  }\n\n  /**\n   * Get all tracked sections\n   * @returns {Array<Element>} Array of section elements\n   */\n  getSections() {\n    return [...this.#sections];\n  }\n\n  /**\n   * Scroll to a specific section by index\n   * @param {number} index - Index of section to scroll to\n   * @param {Object} [options] - Scroll options\n   * @param {string} [options.behavior] - Scroll behavior ('smooth' or 'auto')\n   * @param {number} [options.offset] - Additional offset in pixels (positive = section appears higher, negative = section appears lower)\n   */\n  scrollToIndex(index, options = {}) {\n    if (index < 0 || index >= this.#sections.length) {\n      console.warn(`ScrollTrigger: Invalid index ${index}`);\n      return;\n    }\n\n    const section = this.#sections[index];\n    const behavior = options.behavior || this.#config.behavior;\n    const additionalOffset = options.offset || 0;\n\n    // Calculate offset from bottom in pixels (respects element's custom offset)\n    const elementOffset = this.#getElementOffset(section);\n    const offsetPx = this.#calculateOffset(elementOffset);\n    const triggerLine = window.innerHeight - offsetPx;\n\n    const rect = section.getBoundingClientRect();\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const targetPosition = rect.top + scrollTop - triggerLine - additionalOffset;\n\n    window.scrollTo({\n      top: targetPosition,\n      behavior: behavior,\n    });\n  }\n\n  /**\n   * Scroll to a specific section element\n   * @param {Element} section - Section element to scroll to\n   * @param {Object} [options] - Scroll options (see scrollToIndex)\n   */\n  scrollToSection(section, options = {}) {\n    const index = this.#sections.indexOf(section);\n    if (index === -1) {\n      console.warn('ScrollTrigger: Section not found in tracked sections');\n      return;\n    }\n    this.scrollToIndex(index, options);\n  }\n\n  /**\n   * Recalculate section positions (call if DOM changes)\n   */\n  refresh() {\n    if (this.#isDestroyed) return;\n\n    // Re-observe sections to update positions\n    this.#sections.forEach((section) => {\n      this.#observer.unobserve(section);\n      this.#observer.observe(section);\n    });\n\n    // Force index update\n    this.#updateActiveIndex();\n  }\n\n  /**\n   * Update configuration\n   * @param {Object} newConfig - New configuration options\n   */\n  updateConfig(newConfig = {}) {\n    if (this.#isDestroyed) return;\n\n    const needsObserverUpdate =\n      ('offset' in newConfig && newConfig.offset !== this.#config.offset) ||\n      ('threshold' in newConfig && newConfig.threshold !== this.#config.threshold);\n\n    this.#config = { ...this.#config, ...newConfig };\n\n    // Handle resize observer for percentage changes\n    if ('offset' in newConfig) {\n      const hasPercentages = this.#hasPercentageOffsets();\n\n      if (hasPercentages && !this.#resizeObserver) {\n        this.#setupResizeObserver();\n      } else if (!hasPercentages && this.#resizeObserver) {\n        this.#resizeObserver.disconnect();\n        this.#resizeObserver = null;\n      }\n    }\n\n    if (needsObserverUpdate) {\n      if (this.#observer) {\n        this.#observer.disconnect();\n      }\n      this.#setupObserver();\n    }\n  }\n\n  /**\n   * Destroy the tracker and cleanup\n   */\n  destroy() {\n    if (this.#isDestroyed) return;\n\n    this.#isDestroyed = true;\n\n    // Clear throttle timer\n    if (this.#throttleTimer) {\n      clearTimeout(this.#throttleTimer);\n      this.#throttleTimer = null;\n    }\n\n    // Disconnect observer\n    if (this.#observer) {\n      this.#observer.disconnect();\n      this.#observer = null;\n    }\n\n    // Disconnect resize observer\n    if (this.#resizeObserver) {\n      this.#resizeObserver.disconnect();\n      this.#resizeObserver = null;\n    }\n\n    // Clear maps and arrays\n    this.#intersectingMap.clear();\n    this.#sections = [];\n    this.#currentIndex = -1;\n  }\n}\n\n// Export for external use\nexport { ScrollTrigger };\nexport default ScrollTrigger;\n"],"names":[],"mappings":"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"}